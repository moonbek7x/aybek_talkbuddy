<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalkBuddy Ai - Ota-Ona Paneli</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: blueviolet;
            --primary-dark: #8a2be2;
            --primary-light: #e6d4ff;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --math-color: #ff6b6b;
            --physics-color: #4ecdc4;
            --chemistry-color: #45b7d1;
            --english-color: #96ceb4;
            --uzbek-color: #ffeaa7;
            --history-color: #dda0dd;
            --biology-color: #98d8c8;
            --geography-color: #f7dc6f;
        }

        /* Ota-ona sahifasi uchun maxsus stillar */
        .ota-ona-header {
            background: linear-gradient(135deg, var(--primary-color), #6c63ff);
            color: white;
            padding: 25px 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(138, 43, 226, 0.2);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .parent-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .parent-avatar {
            width: 70px;
            height: 70px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .student-selector-container {
            max-width: 1200px;
            margin: 0 auto 30px;
            padding: 0 20px;
        }

        .student-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            border-left: 6px solid var(--primary-color);
            margin-bottom: 20px;
        }

        .student-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .student-main-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .student-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
        }

        .student-details h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .student-badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .badge-primary { background: var(--primary-light); color: var(--primary-color); }
        .badge-success { background: #d4edda; color: #155724; }
        .badge-warning { background: #fff3cd; color: #856404; }
        .badge-info { background: #d1ecf1; color: #0c5460; }

        /* Fanlar statistikasi kartalari */
        .subjects-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .subject-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
            border-top: 4px solid;
        }

        .subject-card:hover {
            transform: translateY(-5px);
        }

        .subject-card.math { border-top-color: var(--math-color); }
        .subject-card.physics { border-top-color: var(--physics-color); }
        .subject-card.chemistry { border-top-color: var(--chemistry-color); }
        .subject-card.english { border-top-color: var(--english-color); }
        .subject-card.uzbek { border-top-color: var(--uzbek-color); }
        .subject-card.history { border-top-color: var(--history-color); }
        .subject-card.biology { border-top-color: var(--biology-color); }
        .subject-card.geography { border-top-color: var(--geography-color); }

        .subject-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .subject-icon {
            font-size: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .math .subject-icon { background: var(--math-color); }
        .physics .subject-icon { background: var(--physics-color); }
        .chemistry .subject-icon { background: var(--chemistry-color); }
        .english .subject-icon { background: var(--english-color); }
        .uzbek .subject-icon { background: var(--uzbek-color); }
        .history .subject-icon { background: var(--history-color); }
        .biology .subject-icon { background: var(--biology-color); }
        .geography .subject-icon { background: var(--geography-color); }

        .subject-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
        }

        .subject-teacher {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .subject-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stat-label {
            display: block;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
        }

        .subject-progress {
            margin-top: 15px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 5px;
        }

        .math .progress-fill { background: var(--math-color); }
        .physics .progress-fill { background: var(--physics-color); }
        .chemistry .progress-fill { background: var(--chemistry-color); }
        .english .progress-fill { background: var(--english-color); }
        .uzbek .progress-fill { background: var(--uzbek-color); }
        .history .progress-fill { background: var(--history-color); }
        .biology .progress-fill { background: var(--biology-color); }
        .geography .progress-fill { background: var(--geography-color); }

        /* Umumiy statistikalar */
        .overall-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .overall-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .overall-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .overall-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .overall-label {
            color: #666;
            font-size: 1.1rem;
        }

        /* Grafiklar qismi */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 1.2rem;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Baholar jadvali */
        .grades-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .grades-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .grades-filter {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .grades-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .grades-table th {
            background-color: var(--primary-light);
            color: var(--primary-color);
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .grades-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .grades-table tr:hover {
            background-color: #f8f9fa;
        }

        .grade-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 500;
            display: inline-block;
        }

        .grade-5 { background: #d4edda; color: #155724; }
        .grade-4 { background: #fff3cd; color: #856404; }
        .grade-3 { background: #ffeaa7; color: #8a6900; }
        .grade-2 { background: #f8d7da; color: #721c24; }

        /* Vazifalar qismi */
        .homework-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 40px;
        }

        .homework-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .homework-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid var(--primary-color);
        }

        .homework-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .homework-subject {
            font-weight: 600;
            color: var(--primary-color);
        }

        .homework-date {
            color: #666;
            font-size: 0.9rem;
        }

        .homework-status {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
            margin-top: 10px;
        }

        .status-done { background: #d4edda; color: #155724; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-overdue { background: #f8d7da; color: #721c24; }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .subjects-stats,
            .overall-stats,
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .student-main-info {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Animatsiyalar */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.5s ease-out;
        }
    </style>
</head>
<body>
    <!-- Sarlavha -->
    <header class="ota-ona-header">
        <div class="header-content">
            <div class="logo">
                <h1><i class="fas fa-home"></i> Ota-Ona Paneli</h1>
                <p>Bolangizning barcha fanlardagi statistikasi va natijalari</p>
            </div>
            
            <div class="parent-info">
                <div class="parent-avatar">
                    üë®‚Äçüë©‚Äçüë¶
                </div>
                <div>
                    <h3>Ali Aliyev</h3>
                    <p>Ota | +998 90 123 45 67</p>
                </div>
                <button class="btn btn-light" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Chiqish
                </button>
            </div>
        </div>
    </header>

    <!-- Asosiy kontent -->
    <main class="container">
        <!-- Bolani tanlash va asosiy ma'lumotlar -->
        <div class="student-selector-container">
            <div class="student-card fade-in-up">
                <div class="student-header">
                    <div class="student-main-info">
                        <div class="student-avatar">
                            üë®‚Äçüéì
                        </div>
                        <div class="student-details">
                            <h3 id="studentName">Aziz Aliyev</h3>
                            <p id="studentInfo">9-sinf o'quvchisi | 45-IDUM | 15 yosh</p>
                            <div class="student-badges">
                                <span class="badge badge-success" id="studentStatus">Faol</span>
                                <span class="badge badge-primary" id="studentRank">Sinfda 3-o'rin</span>
                                <span class="badge badge-info" id="studentAttendance">Davomat: 96%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="student-selector">
                        <label for="studentSelect"><i class="fas fa-exchange-alt"></i> Bolani tanlash:</label>
                        <select id="studentSelect" class="form-control" onchange="changeStudent()" style="width: 250px;">
                            <option value="1" selected>Aziz Aliyev (9-sinf)</option>
                            <option value="2">Muhammad Yusuf (8-sinf)</option>
                            <option value="3">Zarina Akbarova (10-sinf)</option>
                        </select>
                    </div>
                </div>
                
                <div class="row" style="margin-top: 20px;">
                    <div class="col-4">
                        <div class="text-center">
                            <h4><i class="fas fa-chart-line"></i> Umumiy o'rtacha</h4>
                            <div class="overall-value" id="overallAverage">4.5</div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <h4><i class="fas fa-book"></i> O'qilgan darslar</h4>
                            <div class="overall-value" id="completedLessons">128</div>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <h4><i class="fas fa-calendar-check"></i> Davomat</h4>
                            <div class="overall-value" id="attendanceRate">96%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fanlar statistikasi -->
        <h2 class="section-title"><i class="fas fa-book-open"></i> Fanlar bo'yicha statistikalar</h2>
        <div class="subjects-stats">
            <!-- Matematika -->
            <div class="subject-card math fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Matematika</div>
                        <div class="subject-teacher">O'qituvchi: R. Ismoilov</div>
                    </div>
                    <div class="subject-icon">‚à´</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.8</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">12</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">24/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">5</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>92%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%"></div>
                    </div>
                </div>
            </div>

            <!-- Fizika -->
            <div class="subject-card physics fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Fizika</div>
                        <div class="subject-teacher">O'qituvchi: M. Karimova</div>
                    </div>
                    <div class="subject-icon">‚öõ</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.5</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">8</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">22/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">4</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>85%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                </div>
            </div>

            <!-- Kimyo -->
            <div class="subject-card chemistry fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Kimyo</div>
                        <div class="subject-teacher">O'qituvchi: S. Abdurahmonov</div>
                    </div>
                    <div class="subject-icon">‚öó</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.7</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">10</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">23/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">5</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>88%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 88%"></div>
                    </div>
                </div>
            </div>

            <!-- Ingliz tili -->
            <div class="subject-card english fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Ingliz tili</div>
                        <div class="subject-teacher">O'qituvchi: D. Rasulova</div>
                    </div>
                    <div class="subject-icon">üá¨üáß</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.6</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">14</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">24/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">5</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>90%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 90%"></div>
                    </div>
                </div>
            </div>

            <!-- Ona tili -->
            <div class="subject-card uzbek fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">O'zbek tili</div>
                        <div class="subject-teacher">O'qituvchi: Z. Yusupova</div>
                    </div>
                    <div class="subject-icon">üá∫üáø</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.9</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">15</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">24/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">5</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>95%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 95%"></div>
                    </div>
                </div>
            </div>

            <!-- Tarix -->
            <div class="subject-card history fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Tarix</div>
                        <div class="subject-teacher">O'qituvchi: B. Ahmedov</div>
                    </div>
                    <div class="subject-icon">üèõ</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.2</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">7</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">20/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">4</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>78%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%"></div>
                    </div>
                </div>
            </div>

            <!-- Biologiya -->
            <div class="subject-card biology fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Biologiya</div>
                        <div class="subject-teacher">O'qituvchi: N. Sharipova</div>
                    </div>
                    <div class="subject-icon">üåø</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.4</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">9</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">21/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">4</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>82%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 82%"></div>
                    </div>
                </div>
            </div>

            <!-- Geografiya -->
            <div class="subject-card geography fade-in-up">
                <div class="subject-header">
                    <div>
                        <div class="subject-title">Geografiya</div>
                        <div class="subject-teacher">O'qituvchi: A. Qodirov</div>
                    </div>
                    <div class="subject-icon">üåç</div>
                </div>
                
                <div class="subject-stats">
                    <div class="stat-item">
                        <span class="stat-label">O'rtacha baho</span>
                        <span class="stat-value">4.3</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Baholar soni</span>
                        <span class="stat-value">8</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Darslar</span>
                        <span class="stat-value">22/24</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">O'qituvchi bahosi</span>
                        <span class="stat-value">4</span>
                    </div>
                </div>
                
                <div class="subject-progress">
                    <div class="progress-label">
                        <span>Fan bo'yicha yutuqlar</span>
                        <span>80%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 80%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Umumiy statistikalar -->
        <h2 class="section-title"><i class="fas fa-chart-pie"></i> Umumiy ko'rsatkichlar</h2>
        <div class="overall-stats">
            <div class="overall-card fade-in-up">
                <div class="overall-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="overall-value">3</div>
                <div class="overall-label">Sinfdagi o'rni</div>
                <div class="progress-bar" style="margin-top: 15px;">
                    <div class="progress-fill" style="width: 90%; background: gold;"></div>
                </div>
            </div>
            
            <div class="overall-card fade-in-up">
                <div class="overall-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="overall-value">28</div>
                <div class="overall-label">A'lo baholar soni</div>
                <div class="progress-bar" style="margin-top: 15px;">
                    <div class="progress-fill" style="width: 85%; background: #28a745;"></div>
                </div>
            </div>
            
            <div class="overall-card fade-in-up">
                <div class="overall-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="overall-value">96%</div>
                <div class="overall-label">Davomat foizi</div>
                <div class="progress-bar" style="margin-top: 15px;">
                    <div class="progress-fill" style="width: 96%; background: #007bff;"></div>
                </div>
            </div>
            
            <div class="overall-card fade-in-up">
                <div class="overall-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="overall-value">128</div>
                <div class="overall-label">Topilgan darslar</div>
                <div class="progress-bar" style="margin-top: 15px;">
                    <div class="progress-fill" style="width: 92%; background: var(--primary-color);"></div>
                </div>
            </div>
        </div>

        <!-- Grafiklar -->
        <h2 class="section-title"><i class="fas fa-chart-line"></i> Dinamika va taqsimot</h2>
        <div class="charts-container">
            <div class="chart-card fade-in-up">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-line"></i> Fanlar bo'yicha o'rtacha baholar
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="subjectGradesChart"></canvas>
                </div>
            </div>
            
            <div class="chart-card fade-in-up">
                <div class="chart-header">
                    <h3 class="chart-title">
                        <i class="fas fa-chart-bar"></i> Oxirgi 6 oy dinamikasi
                    </h3>
                </div>
                <div class="chart-container">
                    <canvas id="monthlyProgressChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Baholar jadvali -->
        <div class="grades-container fade-in-up">
            <div class="grades-header">
                <h3><i class="fas fa-table"></i> Oxirgi baholar</h3>
                <div class="grades-filter">
                    <select id="subjectFilter" class="form-control" style="width: 200px;" onchange="filterGrades()">
                        <option value="all">Barcha fanlar</option>
                        <option value="matematika">Matematika</option>
                        <option value="fizika">Fizika</option>
                        <option value="kimyo">Kimyo</option>
                        <option value="ingliz_tili">Ingliz tili</option>
                        <option value="ona_tili">O'zbek tili</option>
                        <option value="tarix">Tarix</option>
                        <option value="biologiya">Biologiya</option>
                        <option value="geografiya">Geografiya</option>
                    </select>
                    <button class="btn btn-secondary" onclick="exportGrades()">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
            </div>
            
            <div class="table-responsive">
                <table class="grades-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Fan</th>
                            <th>Baho</th>
                            <th>Sana</th>
                            <th>O'qituvchi</th>
                            <th>Izoh</th>
                            <th>Holati</th>
                        </tr>
                    </thead>
                    <tbody id="gradesTable">
                        <!-- JavaScript orqali to'ldiriladi -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Vazifalar va topshiriqlar -->
        <div class="homework-container fade-in-up">
            <div class="grades-header">
                <h3><i class="fas fa-tasks"></i> Vazifalar va topshiriqlar</h3>
                <span class="badge badge-primary">3 ta yangi vazifa</span>
            </div>
            
            <div class="homework-list">
                <div class="homework-item">
                    <div class="homework-header">
                        <span class="homework-subject">Matematika</span>
                        <span class="homework-date">20.03.2024</span>
                    </div>
                    <p>Algebra: 10 ta tenglamani yechish. Geometriya: 5 ta masala.</p>
                    <span class="homework-status status-pending">Bajarilmoqda</span>
                </div>
                
                <div class="homework-item">
                    <div class="homework-header">
                        <span class="homework-subject">Fizika</span>
                        <span class="homework-date">19.03.2024</span>
                    </div>
                    <p>Mexanika bo'limi: 15 ta test savoli. Tajriba hisobotini tayyorlash.</p>
                    <span class="homework-status status-done">Bajarildi ‚úì</span>
                </div>
                
                <div class="homework-item">
                    <div class="homework-header">
                        <span class="homework-subject">Ingliz tili</span>
                        <span class="homework-date">18.03.2024</span>
                    </div>
                    <p>Essay yozish: "My Future Profession". Yangi so'zlarni o'rganish.</p>
                    <span class="homework-status status-overdue">Muddati o'tgan</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="dashboard-footer" style="text-align: center; padding: 20px; color: #666; border-top: 1px solid #ddd;">
        <p>¬© 2024 TalkBuddy Ai - Ota-Ona Paneli. Barcha huquqlar himoyalangan.</p>
        <p>Ma'lumotlar oxirgi marta yangilandi: <span id="lastUpdateTime"></span></p>
    </footer>

    <!-- JavaScript -->
    <script src="js/auth.js"></script>
    <script>
        // Sahifa yuklanganda
        document.addEventListener('DOMContentLoaded', function() {
            // Auth tekshirish
            const user = checkAuth();
            if (!user) {
                window.location.href = 'index.html';
                return;
            }

            // Dashboardni ishga tushirish
            initParentDashboard();
            updateLastUpdateTime();
            setInterval(updateLastUpdateTime, 60000);
        });

        // Dashboardni ishga tushirish
        function initParentDashboard() {
            // Baholarni yuklash
            loadGrades();
            
            // Grafiklarni yaratish
            createSubjectGradesChart();
            createMonthlyProgressChart();
            
            // Yangilangan vaqtni ko'rsatish
            updateLastUpdateTime();
        }

        // Baholarni yuklash
        function loadGrades() {
            const gradesData = [
                { id: 1, subject: 'Matematika', grade: 5, date: '20.03.2024', teacher: 'R. Ismoilov', comment: 'A\'lo', status: 'active' },
                { id: 2, subject: 'Fizika', grade: 4, date: '19.03.2024', teacher: 'M. Karimova', comment: 'Yaxshi', status: 'active' },
                { id: 3, subject: 'Kimyo', grade: 5, date: '18.03.2024', teacher: 'S. Abdurahmonov', comment: 'A\'lo', status: 'active' },
                { id: 4, subject: 'Ingliz tili', grade: 5, date: '17.03.2024', teacher: 'D. Rasulova', comment: 'A\'lo', status: 'active' },
                { id: 5, subject: 'O\'zbek tili', grade: 5, date: '16.03.2024', teacher: 'Z. Yusupova', comment: 'A\'lo', status: 'active' },
                { id: 6, subject: 'Tarix', grade: 4, date: '15.03.2024', teacher: 'B. Ahmedov', comment: 'Yaxshi', status: 'active' },
                { id: 7, subject: 'Biologiya', grade: 4, date: '14.03.2024', teacher: 'N. Sharipova', comment: 'Yaxshi', status: 'active' },
                { id: 8, subject: 'Geografiya', grade: 3, date: '13.03.2024', teacher: 'A. Qodirov', comment: 'Qoniqarli', status: 'active' },
                { id: 9, subject: 'Matematika', grade: 5, date: '12.03.2024', teacher: 'R. Ismoilov', comment: 'A\'lo', status: 'active' },
                { id: 10, subject: 'Fizika', grade: 5, date: '11.03.2024', teacher: 'M. Karimova', comment: 'A\'lo', status: 'active' }
            ];

            const tableBody = document.getElementById('gradesTable');
            tableBody.innerHTML = '';

            gradesData.forEach((grade, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td><strong>${grade.subject}</strong></td>
                    <td><span class="grade-badge grade-${grade.grade}">${grade.grade}</span></td>
                    <td>${grade.date}</td>
                    <td>${grade.teacher}</td>
                    <td>${grade.comment}</td>
                    <td>
                        <span class="badge ${grade.status === 'active' ? 'badge-success' : 'badge-danger'}">
                            ${grade.status === 'active' ? 'Faol' : 'Nofaol'}
                        </span>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Fanlar bo'yicha baholar grafigi
        let subjectGradesChart;
        function createSubjectGradesChart() {
            const ctx = document.getElementById('subjectGradesChart').getContext('2d');
            
            subjectGradesChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Matematika', 'Fizika', 'Kimyo', 'Ingliz tili', 'Ona tili', 'Tarix', 'Biologiya', 'Geografiya'],
                    datasets: [{
                        label: 'O\'rtacha baho',
                        data: [4.8, 4.5, 4.7, 4.6, 4.9, 4.2, 4.4, 4.3],
                        backgroundColor: [
                            'var(--math-color)',
                            'var(--physics-color)',
                            'var(--chemistry-color)',
                            'var(--english-color)',
                            'var(--uzbek-color)',
                            'var(--history-color)',
                            'var(--biology-color)',
                            'var(--geography-color)'
                        ],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 3,
                            max: 5,
                            ticks: {
                                stepSize: 0.5
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Oylik progress grafigi
        let monthlyProgressChart;
        function createMonthlyProgressChart() {
            const ctx = document.getElementById('monthlyProgressChart').getContext('2d');
            
            monthlyProgressChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Okt', 'Noy', 'Dek', 'Yan', 'Fev', 'Mar'],
                    datasets: [{
                        label: 'O\'rtacha baho',
                        data: [4.2, 4.3, 4.5, 4.4, 4.6, 4.5],
                        borderColor: 'var(--primary-color)',
                        backgroundColor: 'rgba(138, 43, 226, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 3.5,
                            max: 5,
                            ticks: {
                                stepSize: 0.5
                            }
                        }
                    }
                }
            });
        }

        // Bola o'zgarganda
        function changeStudent() {
            const select = document.getElementById('studentSelect');
            const studentId = select.value;
            
            if (!studentId) return;
            
            // Loading holati
            document.querySelector('.student-card').style.opacity = '0.7';
            
            setTimeout(() => {
                // Tanlangan bolaga mos ma'lumotlarni yangilash
                if (studentId === '1') {
                    // Aziz Aliyev
                    document.getElementById('studentName').textContent = 'Aziz Aliyev';
                    document.getElementById('studentInfo').textContent = '9-sinf o\'quvchisi | 45-IDUM | 15 yosh';
                    document.getElementById('studentRank').textContent = 'Sinfda 3-o\'rin';
                    document.getElementById('overallAverage').textContent = '4.5';
                    document.getElementById('completedLessons').textContent = '128';
                    document.getElementById('attendanceRate').textContent = '96%';
                    
                    // Fan statistikalarini yangilash
                    updateSubjectStatsForStudent1();
                } else if (studentId === '2') {
                    // Muhammad Yusuf
                    document.getElementById('studentName').textContent = 'Muhammad Yusuf';
                    document.getElementById('studentInfo').textContent = '8-sinf o\'quvchisi | 45-IDUM | 14 yosh';
                    document.getElementById('studentRank').textContent = 'Sinfda 5-o\'rin';
                    document.getElementById('overallAverage').textContent = '4.3';
                    document.getElementById('completedLessons').textContent = '115';
                    document.getElementById('attendanceRate').textContent = '94%';
                    
                    // Fan statistikalarini yangilash
                    updateSubjectStatsForStudent2();
                } else if (studentId === '3') {
                    // Zarina Akbarova
                    document.getElementById('studentName').textContent = 'Zarina Akbarova';
                    document.getElementById('studentInfo').textContent = '10-sinf o\'quvchisi | 45-IDUM | 16 yosh';
                    document.getElementById('studentRank').textContent = 'Sinfda 1-o\'rin';
                    document.getElementById('overallAverage').textContent = '4.7';
                    document.getElementById('completedLessons').textContent = '142';
                    document.getElementById('attendanceRate').textContent = '98%';
                    
                    // Fan statistikalarini yangilash
                    updateSubjectStatsForStudent3();
                }
                
                document.querySelector('.student-card').style.opacity = '1';
                
                // Grafiklarni yangilash
                updateCharts();
                
            }, 500);
        }

        // Fan statistikalarini yangilash (Aziz uchun)
        function updateSubjectStatsForStudent1() {
            // Matematika
            document.querySelector('.math .stat-value:nth-child(1)').textContent = '4.8';
            document.querySelector('.math .progress-fill').style.width = '92%';
            
            // Fizika
            document.querySelector('.physics .stat-value:nth-child(1)').textContent = '4.5';
            document.querySelector('.physics .progress-fill').style.width = '85%';
            
            // Kimyo
            document.querySelector('.chemistry .stat-value:nth-child(1)').textContent = '4.7';
            document.querySelector('.chemistry .progress-fill').style.width = '88%';
            
            // ... boshqa fanlar uchun ham shunday
        }

        // Grafiklarni yangilash
        function updateCharts() {
            // Grafiklarni yangilash kodi
            console.log('Grafiklar yangilandi');
            
            // Yangilangan vaqtni ko'rsatish
            updateLastUpdateTime();
        }

        // Baholarni filter qilish
        function filterGrades() {
            const filter = document.getElementById('subjectFilter').value;
            const tableRows = document.querySelectorAll('#gradesTable tr');
            
            tableRows.forEach(row => {
                const subjectCell = row.querySelector('td:nth-child(2)');
                if (subjectCell) {
                    const subject = subjectCell.textContent.toLowerCase();
                    if (filter === 'all' || subject.includes(filter)) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                }
            });
        }

        // Baholarni export qilish
        function exportGrades() {
            alert('Baholar jadvali Excel fayl sifatida yuklab olindi.');
            // Bu yerda haqiqiy export funksiyasi bo'ladi
        }

        // Yangilangan vaqtni ko'rsatish
        function updateLastUpdateTime() {
            const now = new Date();
            const timeStr = now.toLocaleTimeString('uz-UZ', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('lastUpdateTime').textContent = 
                `${now.toLocaleDateString('uz-UZ')} ${timeStr}`;
        }

        // Chiqish funksiyasi
        function logout() {
            if (confirm('Tizimdan chiqishni xohlaysizmi?')) {
                if (typeof window.logout === 'function') {
                    window.logout();
                } else {
                    localStorage.removeItem('smart_maktab_user');
                    sessionStorage.removeItem('smart_maktab_auth');
                    window.location.href = 'index.html';
                }
            }
        }
    </script>
</body>
</html>